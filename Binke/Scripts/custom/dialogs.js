var BinkeDialog=new function(){var o=null,a=!1;function t(t){var l=$("#rw-dialog");if(0===l.length){(l=$('<div id="rw-dialog" class="modal fade" style="z-index: 99999;"></div>')).append('<div class="modal-dialog"><div class="modal-content"></div></div>');var n=$('<div class="modal-header bg-primary" />').appendTo($(".modal-content",l));n.append('<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>'),n.append('<h4 class="modal-title">RealNex Dialog</h4>'),$('<div class="modal-body"><p class="message-placeholder"></p></div>').appendTo($(".modal-content",l)),l.appendTo("body"),l.on("hidden.bs.modal",function(t){var l=$("#backgroundFrame");l.length>0&&l.hide(),$(".message-placeholder",t.currentTarget).empty(),$(".dialog-overlay-toolbar",t.currentTarget).empty(),a&&($("body").hasClass("modal-open")||$("body").addClass("modal-open")),null!=o&&o(),o=null}),l.on("shown.bs.modal",function(o){l.modal("handleUpdate");var a=$("#backgroundFrame");a.length>0&&a.show()})}return $(".modal-footer.dialog-overlay-toolbar",l).length||$('<div class="modal-footer dialog-overlay-toolbar" />').appendTo($(".modal-content",l)),$(".message-placeholder",l).css("height",""),$(".modal-dialog",l).css("width",""),$(".modal-body",l).css("height",""),a=$("body").hasClass("modal-open"),$(".modal-title",l).html(t),l}function l(a,l,n){var e=t(a);return $(".message-placeholder",e).html(l),$(".dialog-overlay-toolbar",e).empty(),$(".dialog-overlay-toolbar",e).append('<button type="button" class="btn btn-primary ok-btn"><strong>Ok</strong></button>'),$(".ok-btn",e).unbind("click").click(function(){e.modal("hide"),"function"==typeof n&&(o=n)}),e}this.Alert=function(o){try{l("Alert",o).modal("show")}catch(a){alert(o)}},this.AdvancedAlert=function(o,a,t){l(o,a,t).modal("show")},this.Notification=function(o){try{l("Notification",o).modal("show")}catch(a){alert(o)}},this.Warning=function(o){try{(a=o,l=t("Warning"),$(".message-placeholder",l).html(a),$(".dialog-overlay-toolbar",l).empty(),$(".dialog-overlay-toolbar",l).append('<button class="btn btn-primary ok-btn"><strong>Ok</strong></button>'),$(".ok-btn",l).unbind("click").click(function(){l.modal("hide")}),l).modal("show")}catch(a){alert(o)}var a,l},this.Error=function(o){try{(a=o,l=t("Error"),$(".message-placeholder",l).html(a),$(".dialog-overlay-toolbar",l).empty(),$(".dialog-overlay-toolbar",l).append('<button type="button" class="btn btn-primary ok-btn"><strong>Ok</strong></button>'),$(".ok-btn",l).unbind("click").click(function(){l.modal("hide")}),l).modal("show")}catch(a){alert(o)}var a,l},this.Confirmation=function(a,l,n,e){try{(function(a,l,n,e){var r=t(null!=a?a:"Warning");return $(".message-placeholder",r).html(l),$(".dialog-overlay-toolbar",r).empty(),$(".dialog-overlay-toolbar",r).append('<button type="button" class="btn btn-primary yes-btn"><strong>Yes</strong></button>'),$(".dialog-overlay-toolbar",r).append('<button type="button" class="btn btn-default no-btn"><strong>No</strong></button>'),$(".yes-btn",r).unbind("click").click(function(){return"function"==typeof n&&(o=n),$(this).closest(".modal").modal("hide"),!1}),$(".no-btn",r).unbind("click").click(function(){return"function"==typeof e&&(o=e),$(this).closest(".modal").modal("hide"),!1}),r})(a,l,n,e).modal("show")}catch(o){confirm(l)?n&&n():e&&e()}},this.Choice=function(a,l,n,e){(function(a,l,n,e){var r=t(null!=a?a:"Warning");$(".message-placeholder",r).html(l),$(".dialog-overlay-toolbar",r).empty();for(var i=0;i<n.length;i++){var d=$('<button type="button" class="btn btn-primary"><strong>'+n[i]+"</strong></button>");$(".dialog-overlay-toolbar",r).append(d),d.data("clickCallBack",e[i]),d.unbind("click").click(function(){var a=$(this).data("clickCallBack");return"function"==typeof a&&(o=function(){a()}),$(this).closest(".modal").modal("hide"),!1})}return r})(a,l,n,e).modal("show")},this.CustomChoice=function(a,l,n){(function(a,l,n){var e=t(null!=a?a:"Warning");$(".message-placeholder",e).html(l),$(".dialog-overlay-toolbar",e).empty();for(var r=0;r<n.length;r++){var i=$(n[r].markup);$(".dialog-overlay-toolbar",e).append(i),i.data("clickCallBack",n[r].callback),i.is("a")||i.unbind("click").click(function(){var a=$(this).data("clickCallBack");return"function"==typeof a&&(o=function(){a()}),$(this).closest(".modal").modal("hide"),!1})}return e})(a,l,n).modal("show")},this.Frame=function(o,a,l,n,e,r){var i=function(o,a,l){var n=t(null!=o?o:"Realnex Dialog"),e=null!=a?a:"about:blank";$(".message-placeholder",n).html('<iframe style="width:100%;height:100%;border:none;" id="rw-dialog-frame"></iframe>');var r=$(".message-placeholder",n).find("iframe");return r.one("load",function(){r.prop("src",e)}),r.prop("src","loading.html"+(!0===l?"?t=rend":"")),$(".message-placeholder",n).css("height","100%"),$(".dialog-overlay-toolbar",n).remove(),n}(o,a,r);return l=l||600,n=n||400,i.find(".modal-dialog").css({width:l+30}),i.find(".modal-body").css({height:n+30}),e&&"function"==typeof e&&$("#rw-dialog-frame").on("load",function(){e()}),i.modal("show")}};